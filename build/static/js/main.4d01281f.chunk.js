(this["webpackJsonpstroitel.loc"]=this["webpackJsonpstroitel.loc"]||[]).push([[0],{25:function(e,t,n){e.exports={Header:"Header_Header__isxkV"}},26:function(e,t,n){e.exports={MainContent:"MainContent_MainContent__7Qja0"}},28:function(e,t,n){e.exports={SitesList:"SitesList_SitesList__IARpX"}},29:function(e,t,n){e.exports={SiteItem:"SiteItem_SiteItem__3atHo"}},30:function(e,t,n){},32:function(e,t,n){e.exports=n(44)},37:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(12),i=n.n(o),c=n(10),u=(n(37),n(25)),s=n.n(u),l=function(e){return a.a.createElement("header",{className:s.a.Header},a.a.createElement("h1",null,"\u0412\u0435\u0431-\u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430 \u043f\u043e \u0441\u0430\u0439\u0442\u0430\u043c"))},d=n(26),p=n.n(d),f=function(e){return a.a.createElement("div",{className:p.a.MainContent},e.children)},h=n(14),m=n(15),v=n(16),g=n(17),E=n(9),y="http://laravel-api.loc";var D="SUCCESS_sitesList",S="ERROR_sitesList",j="LOADING_sitesList";function O(e){return function(t){return function(e){var t=y+"/api"+e.url,n=e.dispatch;n(e.handleLoading()),fetch(t).then((function(e){return e.json()})).then((function(t){return n(e.handleSuccess(t.json_response))}),(function(t){return n(e.handleError(t))}))}(function(e,t){return{url:e,handleSuccess:R,handleError:b,handleLoading:L,dispatch:t}}(e,t))}}function R(e){return{type:D,payload:e}}function b(e){return function(t){return{type:S,payload:e}}}function L(){return{type:j}}var _,C=function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchGetData(this.props.url)}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.loading,r=e.serverData;return t?a.a.createElement("div",null,"\u041e\u0448\u0438\u0431\u043a\u0430: ",t.message):n?a.a.createElement("div",null,"loading.."):r?this.props.render(r):null}}]),n}(r.Component),I=Object(E.b)((function(e){return{serverData:e.getRequest.serverData,error:e.getRequest.error,loading:e.getRequest.loading}}),(function(e){return{fetchGetData:function(t){return e(O(t))}}}))(C),k=n(28),N=n.n(k),q=n(29),w=n.n(q),x=function(e){var t=e.siteName,n=e.siteId;return a.a.createElement("li",{className:w.a.SiteItem},a.a.createElement(c.b,{to:"/site/"+n}," ",t," "))},M=(_=function(e){var t=e.sitesList;return a.a.createElement("ul",{className:N.a.SitesList},t.map((function(e){return a.a.createElement(x,{key:e.id,siteName:e.url,siteId:e.id})})))},function(){return a.a.createElement(I,{url:"/get-sites-list",render:function(e){return a.a.createElement(_,{sitesList:e})}})});function H(e){var t,n=(t=e.data,{method:"post",credentials:"same-origin",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Accept:"application/json, text-plain, */*","X-Requested-With":"XMLHttpRequest"}}),r=y+"/api"+e.url,a=e.dispatch;a(e.handleLoading()),fetch(r,n).then((function(e){return e.json()})).then((function(t){return a(e.handleSuccess(t.json_response))}),(function(t){return a(e.handleError(t))}))}function A(e,t){return console.log("fetchPostData",t),function(n){return H(function(e,t,n){return{url:e,data:t,handleSuccess:G,handleError:J,handleLoading:P,dispatch:n}}(e,t,n))}}function G(e){return{type:"SUCCESS",payload:e}}function J(e){return function(t){return{type:"ERROR",payload:e}}}function P(){return{type:"LOADING"}}var U,W=function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.url,n=e.data;this.props.fetchPostData(t,n)}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.loading,r=e.serverData,o=e.render;return console.log("serverData",r),t?a.a.createElement("div",null,"\u041e\u0448\u0438\u0431\u043a\u0430: ",t.message):n?a.a.createElement("div",null,"loading.."):r?o(r):null}}]),n}(r.Component),X=Object(E.b)((function(e){return{serverData:e.postRequest.serverData,error:e.postRequest.error,loading:e.postRequest.loading}}),(function(e){return{fetchPostData:function(t,n){return e(A(t,n))}}}))(W),B=n(30),Q=n.n(B),T=(U=function(e){return a.a.createElement("div",{className:Q.a.ClicksInfo})},function(e){return a.a.createElement(X,{url:"/get-clicks-info",data:{siteId:e.match.params.id},render:function(e){return a.a.createElement(U,{clicksInfo:e})}})}),V=function(e){return a.a.createElement("div",null,console.log(e),"test")},$=n(1),z=function(){return a.a.createElement(f,null,a.a.createElement($.c,null,a.a.createElement($.a,{path:"/site/:id",component:T}),a.a.createElement($.a,{path:"/test",component:V}),a.a.createElement($.a,{path:"/",component:M})))},F=function(e){return e.children},K=function(){return a.a.createElement(F,null,a.a.createElement(l,null),a.a.createElement(z,null))},Y=n(6),Z={error:!1,loading:!1,serverData:[]},ee={error:!1,loading:!1,serverData:[]},te=Object(Y.c)({getRequest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{serverData:[],error:!0,loading:!1};case j:return{serverData:[],error:!1,loading:!0};case D:return{serverData:t.payload,loading:!1,error:null};default:return e}},postRequest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERROR":return{serverData:[],error:!0,loading:!1};case"LOADING":return{serverData:[],error:!1,loading:!0};case"SUCCESS":return{serverData:t.payload,loading:!1,error:null};default:return e}}}),ne=n(31),re=(n(43),Object(Y.d)(te,Object(Y.a)(ne.a))),ae=function(){return a.a.createElement(E.a,{store:re},a.a.createElement(K,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=a.a.createElement(c.a,null,a.a.createElement(ae,null));i.a.render(oe,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.4d01281f.chunk.js.map